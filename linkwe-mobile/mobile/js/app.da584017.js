(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r={cookieExpires:1,homeName:"home",services:{wecom:"/wecom"}},o=r,s=(n("f5df1"),n("b970")),i=(n("157a"),n("a4b1"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view",{staticClass:"page"})],1)}),c=[],u=(n("c975"),n("ac1f"),n("841c"),n("1276"),n("96cf"),n("1da1")),d=n("b775"),p=o.services.wecom;function l(t,e){return Object(d["a"])({url:p+"/ticket/getAgentTicket",params:{url:t,agentId:e}})}function f(t,e){return Object(d["a"])({url:p+"/user/getUserInfo",params:{code:t,agentId:e}})}n("5319");function m(t){var e=decodeURIComponent(t).split("?")[1].split("#")[0];return e?JSON.parse('{"'+e.replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}}var b={name:"App",data:function(){return{corpId:"",agentId:""}},created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=m(window.location.search),a=n.code,t.corpId=n.corpId,t.agentId=n.agentId,a){e.next=7;break}return t.$toast("未获得授权"),e.abrupt("return");case 7:return e.next=9,f(a,n.agentId);case 9:r=e.sent,o=r.data,t.$store.state.userId=o.userId;case 12:case"end":return e.stop()}}),e)})))()},watch:{$route:function(){this.wxConfig()}},methods:{wxConfig:function(){var t=this;l(window.location.href.split("#")[0],this.agentId).then((function(e){var n=e.data,a=n.timestamp,r=n.nonceStr,o=n.signature;wx.agentConfig({debug:!0,corpid:t.corpId,agentid:t.agentId,timestamp:a,nonceStr:r,signature:o,jsApiList:["sendChatMessage","getContext","getCurExternalContact"],success:function(t){},fail:function(e){t.$toast("agentId失败:"+JSON.stringify(e)),e.errMsg.indexOf("function not exist")>-1&&alert("版本过低请升级")}})}))}}},h=b,g=(n("7c55"),n("2877")),v=Object(g["a"])(h,i,c,!1,null,null,null),w=v.exports,I=(n("d3b7"),n("8c4f")),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"logo ac"},[t._v("linkWeChat")]),t._l(t.$router.options.routes,(function(e,a){return n("router-link",{key:a,staticClass:"router-link",attrs:{to:e.path}},[t._v(t._s(e.meta.title))])}))],2)},k=[],C={name:"Home",components:{}},O=C,j=(n("7aba"),Object(g["a"])(O,x,k,!1,null,"4afe9e89",null)),_=j.exports;a["a"].use(I["a"]);var $=[{path:"/",name:"Home",component:_,meta:{title:"首页"}},{path:"/chat",name:"chat",component:function(){return Promise.all([n.e("vendors~about"),n.e("about")]).then(n.bind(null,"6f29"))},meta:{title:"chat"}},{path:"/portrait",name:"portrait",component:function(){return Promise.all([n.e("vendors~about"),n.e("about")]).then(n.bind(null,"a89b"))},meta:{title:"portrait"}},{path:"/detail",name:"detail",component:function(){return Promise.all([n.e("vendors~about"),n.e("about")]).then(n.bind(null,"dc79"))},hidden:!0,meta:{title:""}},{path:"/community",name:"community",component:function(){return Promise.all([n.e("vendors~about"),n.e("about")]).then(n.bind(null,"7f4b"))},hidden:!0,meta:{title:""}}],P=new I["a"]({routes:$}),R=P,S=n("2f62");a["a"].use(S["a"]);var y=new S["a"].Store({state:{userId:""},mutations:{},actions:{},modules:{}}),A=n("3a34"),E=n.n(A);window.CONFIG=o,a["a"].use(s["a"]),new E.a,a["a"].config.productionTip=!1,new a["a"]({router:R,store:y,render:function(t){return t(w)}}).$mount("#app")},"5ba8":function(t,e,n){},"7aba":function(t,e,n){"use strict";n("a268")},"7c55":function(t,e,n){"use strict";n("5ba8")},a268:function(t,e,n){},a4b1:function(t,e,n){},b775:function(t,e,n){"use strict";n("99af"),n("d3b7");var a=n("bc3a"),r=n.n(a),o=n("2241");function s(t){var e=r.a.create({baseURL:t,headers:{Auth_token:""},timeout:1e4});e.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),e.interceptors.response.use((function(t){var e=t.data,a=t.status;return 200===a&&200===e.code?e:(201===e.code||n(t),new Promise((function(){})))}),(function(t){return t.response?n(t.response):Object(o["a"])({message:"服务器未启动或连接超时"}),Promise.reject(t)}));var n=function(t){t.data,t.statusText,t.status;var e=t.request,n=e.responseText;e.responseURL;Object(o["a"])({message:n})};return e}e["a"]=s("http://146.56.222.200/api")}},[[0,"runtime","chunk-vant","chunk-libs"]]]);